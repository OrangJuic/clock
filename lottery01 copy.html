<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>雙贏彩投注小遊戲5.2.3</title>
    <script type="text/javascript" src="./comlib.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

    <style type="text/css">
        body {
            background-color: rgb(226, 241, 208);
            font-family: '標楷體', Arial, Helvetica, sans-serif;
            padding-top: 2%;
        }

        table.border-primary td {
            width: 50%;
        }
    </style>
</head>


<body>
    <div class="container">
        <div class="row">

            <table id="myTable" class="table table-bordered border-primary">
                <thead>
                    <tr>
                        <th colspan="2">
                            <img src="./雙贏彩.png" class="mx-auto" style="display: block; max-width: 30%;" alt="">
                        </th>
                    </tr>
                    <tr>
                        <th scope="col">選擇投注號碼</th>
                        <th scope="col">遊戲介紹</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>
                            <div style="height: 250px;display: flex;flex-wrap: wrap;align-content: space-around;">
                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="1">
                                    <label class="form-check-label" for="Check01">01</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="2">
                                    <label class="form-check-label" for="Check01">02</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="3">
                                    <label class="form-check-label" for="Check01">03</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="4">
                                    <label class="form-check-label" for="Check01">04</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="5">
                                    <label class="form-check-label" for="Check01">05</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="6">
                                    <label class="form-check-label" for="Check01">06</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="7">
                                    <label class="form-check-label" for="Check01">07</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="8">
                                    <label class="form-check-label" for="Check01">08</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="9">
                                    <label class="form-check-label" for="Check01">09</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="10">
                                    <label class="form-check-label" for="Check01">10</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="11">
                                    <label class="form-check-label" for="Check01">11</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="12">
                                    <label class="form-check-label" for="Check01">12</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="13">
                                    <label class="form-check-label" for="Check01">13</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="14">
                                    <label class="form-check-label" for="Check01">14</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="15">
                                    <label class="form-check-label" for="Check01">15</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="16">
                                    <label class="form-check-label" for="Check01">16</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="17">
                                    <label class="form-check-label" for="Check01">17</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="18">
                                    <label class="form-check-label" for="Check01">18</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="19">
                                    <label class="form-check-label" for="Check01">19</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="20">
                                    <label class="form-check-label" for="Check01">20</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="21">
                                    <label class="form-check-label" for="Check01">21</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="22">
                                    <label class="form-check-label" for="Check01">22</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="23">
                                    <label class="form-check-label" for="Check01">23</label>
                                </div>

                                <div class="form-check form-check-inline">
                                    <input class="form-check-input" type="checkbox" name="chkRights[]" value="24">
                                    <label class="form-check-label" for="Check01">24</label>
                                </div>

                            </div>
                        </td>
                        <td>
                            基本玩法<br>
                            雙贏彩是一種樂透型遊戲，您必須從01~24的號碼中任選12個號碼進行投注。開獎時，開獎單位將隨機開出12個號碼，這一組號碼就是該期雙贏彩的中獎號碼，也稱為「獎號」。您的12個選號如果全部對中當期開出之12個號碼，或者全部未對中，均為中頭獎。<br>
                            <table class="table-bordered border-danger">
                                <tbody>
                                    <tr>
                                        <td>獎項</td>
                                        <td>中獎方式</td>
                                    </tr>
                                    <tr>
                                        <td>頭獎</td>
                                        <td>對中當期12個獎號 或 對中當期0個獎號</td>
                                    </tr>
                                    <tr>
                                        <td>貳獎</td>
                                        <td>對中當期任11個獎號 或 對中任1個獎號</td>
                                    </tr>
                                    <tr>
                                        <td>參獎</td>
                                        <td>對中當期任10個獎號 或 對中任2個獎號</td>
                                    </tr>
                                    <tr>
                                        <td>肆獎</td>
                                        <td>對中當期任9個獎號 對中任3個獎號</td>
                                    </tr>
                                </tbody>
                            </table>
                            <p>頭獎中獎率約1/135萬，總中獎率約1/26。</p>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <button type="button" class="btn btn-success" onclick="autoChoice()">電腦選號（12號碼）</button>
                            <button type="button" class="btn btn-primary ms-2" onclick="reset()">清除重選</button>
                        </td>
                        <td>獎金分配方式<br>
                            雙贏彩所有獎項皆為固定獎項，各獎項金額如下:<br>
                            <table class="table-bordered border-info">
                                <thead>
                                    <tr>
                                        <td>獎項</td>
                                        <td>頭獎</td>
                                        <td>貳獎</td>
                                        <td>參獎</td>
                                        <td>肆獎</td>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>單注獎金</td>
                                        <td>$15,000,000</td>
                                        <td>$100,000</td>
                                        <td>$500</td>
                                        <td>$100</td>
                                    </tr>
                                </tbody>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <td><button type="button" class="btn btn-danger" onclick="openWinner()">進行開獎</button></td>
                        <td>開獎號碼：</td>
                    </tr>
                    <tr>
                        <td colspan="2">開獎狀態:</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>













    <script type="text/javascript" src="./comlib.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
        crossorigin="anonymous"></script>

    <script type="text/javascript">
        var chk_arr = document.getElementsByName("chkRights[]");
        var chklength = chk_arr.length;
        //清除所有號碼勾選函數↓
        function reset() {
            for (let i = 0; i <= 23; i++) {
                chk_arr[i].checked = false;
            }
        }


        //自動選號函數↓
        function autoChoiceOrign() {
            //先清除所有選擇
            reset();
            //產生12個電腦選號程式
            for (let i = 0; i <= 11; i++) {
                let chkData = rand(0, 23);
                //檢查是否有被選擇
                if (chk_arr[chkData].checked == false) {
                    chk_arr[chkData].checked = true;
                } else { i--; }
            }
        }


        //自動選號函數，保留原有選擇，並隨機產生其他號碼↓
        function autoChoice() {
            //先清除所有選擇
            //reset();
            var countBall = 0;   //用來放目前彩球有多少被選擇


            for (let i = 0; i <= 23; i++) {
                if (chk_arr[i].checked == true) {
                    countBall++; //計算有多少號碼被勾選
                }
            }
            if (countBall >= 12) {
                alert("電腦選號原投注號碼大於或等於12注");
                return false;
            }
            //產生其他彩球程式
            for (let i = 0; i <= (11 - countBall); i++) {
                let chkData = rand(0, 23);
                //檢查值是否有被選擇
                if (chk_arr[chkData].checked == false) {
                    chk_arr[chkData].checked = true;
                } else {
                    i--;
                }
            }
        }


        //開獎函數↓
        function openWinner() {
            var tableEle1 = document.getElementById("myTable").rows[4].cells[1]; //取得表格4列1欄
            var tableEle2 = document.getElementById("myTable").rows[5].cells[0];//取得表格5列0欄
            let winBall = new Array();   //存贏球陣列
            let Ball = new Array();  //開講球存陣列
            let selectBall = new Array();  //選擇球存陣列
            let result = "";   //存結果變數，當所有結果，排版後儲存的長字串
            for (let i = 0; i <= 23; i++) {
                if (chk_arr[i].checked == true) {   //計算有多少號碼被勾選，同時將0-23，轉換成1-24變成彩球號碼
                    selectBall.push(i + 1);
                }
            }
            if (selectBall.length != 12) {
                alert("投注號碼不可小於或大於12注");
                return false;
            }
            for (let i = 0; i <= 11; i++) { //進行開獎，共開12球
                let chkData = rand(1, 24); //開獎範圍1-24，每次開一球存在chkData
                if (Ball.indexOf(chkData) == -1) {
                    //檢查開獎球是否有重複
                    Ball.push(chkData);   //如果沒有重複存入Ball陣列
                    //判斷有沒有在選擇的號碼勾選中
                    if (chk_arr[chkData - 1].checked == true) {
                        winBall.push(chkData);  //檢查第幾球中獎，如果有中獎須保留值下來
                    }
                }else{
                        i--; //當彩球重複時，本次迴圈不算i--，重新再跑一次(再產生一個數字)
                    }
            }
            //將結果插入表格中
            tableEle1.innerHTML = "<h4>開獎號碼:" + Ball + "</h4><h4>排序號碼:" + Ball.sort(function (a, b) { return a - b; }) + "</h4>";
            result = result + "<h4>投注號碼:" + selectBall + "</h4>";
            result = result + "<h4>對中當期獎號:" + winBall.length + "，中獎號碼:" + winBall.sort(function (a, b) {
                return a - b;
            }) + "</h4>";
            result = result + "<h4>中獎狀態:" + getBonus(winBall.length) + "</h4>";
            tableEle2.innerHTML = result;
        }

        //取得中獎資訊與金額↓
        function getBonus(level) {
            switch (level) {
                case 0:
                    return ("頭獎:$15,000,000 ");
                    break;
                case 1:
                    return ("貳獎:$100,000");
                    break;
                case 2:
                    return ("參獎:$500");
                    break;
                case 3:
                    return ("肆獎:$100");
                    break;
                case 12:
                    return ("頭獎:$15,000,000 ");
                    break;
                case 11:
                    return ("貳獎:$100,000");
                    break;
                case 10:
                    return ("參獎:$500");
                    break;
                case 9:
                    return ("肆獎:$100");
                    break;
                default:
                    return ("無中獎!!");
                    break;
            }
        }
    </script>

</body>

</html>